CREATE DATABASE CAR_RENTRAL_DB;


USE CAR_RENTRAL_DB;
CREATE TABLE CUSTOMER_DETAILS(
    CUSTOMER_ID INT AUTO_INCREMENT PRIMARY KEY,
    FIRST_NAME VARCHAR(50) NOT NULL,
    LAST_NAME VARCHAR(50) NOT NULL,
    GENDER ENUM('MALE', 'FEMALE') NOT NULL,
    EMAIL VARCHAR(150) UNIQUE NOT NULL,
    PHONE VARCHAR(20) UNIQUE NOT NULL,
    ADDRESS VARCHAR(255) NOT NULL,
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE CUSTOMER_ACCOUNT(
    ACCOUNT_ID INT AUTO_INCREMENT PRIMARY KEY,
    CUSTOMER_ID INT NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    STATUS ENUM('ACTIVE', 'INACTIVE') DEFAULT 'ACTIVE',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER_DETAILS(CUSTOMER_ID) ON DELETE CASCADE
);

CREATE CUSTOMER_BOOKING_DETAILS(
    BOOKING_ID INT AUTO_INCREAMENT PRIMARTY KEY,
    EMAIL VARCHAR(150) NOT NULL,
    PICKUP_DATE DATETIME NOT NULL,
    DROP_OFF_DATE DATETIME NOT NULL,
    RENTAL_OPTION ENUM('SELF DRIVE', 'WITH DRIVER') DEFAULT 'SELF DRIVER'
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (EMAIL) REFERENCES CUSTOMER_DETAILS(EMAIL)
);
CREATE BOOKING_PAYMENT_DETAILS(
    PAYMENT_DETRAILS_ID INT AUTO_INCREAMENT PRIMARTY KEY,
    EMAIL VARCHAR(150) NOT NULL,
    PAYMENT_OPTION ENUM('PAY NOW', 'PAY LATER') DEFAULT 'PAY LATER',
    TRANS_TYPE ENUM('CASH', 'E-PAYMENT') DEFAULT 'CASH',
    FOREIGN KEY (EMAIL) REFERENCES CUSTOMER_DETAILS(EMAIL)
);